
# æ·»åŠ  traitTypes å®šä¹‰

## ä¿®æ”¹å†…å®¹

### 1. æ›´æ–° `src/core/traits/types.ts`
- æ·»åŠ  `TraitTypeDefinition` æ¥å£
- æ›´æ–° `TraitData` æ¥å£åŒ…å« `traitTypes`

```typescript
export interface TraitTypeDefinition {
  id: string;
  name: string;
  icon: string;
  description?: string;
}

export interface TraitData {
  traitTypes?: Record<string, TraitTypeDefinition>;
  traits: Record<string, Trait>;
}
```

### 2. æ›´æ–° `src/core/traits/TraitManager.ts`
- æ·»åŠ  `traitTypes` å­˜å‚¨
- æ·»åŠ  `getTraitType(id)` æ–¹æ³•
- æ·»åŠ  `getAllTraitTypes()` æ–¹æ³•

### 3. æ›´æ–°ç¤ºä¾‹æ•°æ®
**`public/scenarios/example_battlefield/traits.json`**
**`public/game_saves/example_battlefield/traits.json`**

```json
{
  "traitTypes": {
    "soldierType": { "id": "soldierType", "name": "å…µç§", "icon": "âš”ï¸", "description": "å•ä½çš„åŸºç¡€ç±»å‹" },
    "weapon": { "id": "weapon", "name": "æ­¦å™¨", "icon": "ğŸ—¡ï¸", "description": "å•ä½è£…å¤‡çš„æ­¦å™¨" },
    "armor": { "id": "armor", "name": "æŠ¤ç”²", "icon": "ğŸ›¡ï¸", "description": "å•ä½è£…å¤‡çš„æŠ¤ç”²" },
    "tag": { "id": "tag", "name": "æ ‡ç­¾", "icon": "ğŸ·ï¸", "description": "åˆ†ç±»æ ‡ç­¾" },
    "ability": { "id": "ability", "name": "èƒ½åŠ›", "icon": "â­", "description": "ç‰¹æ®Šèƒ½åŠ›" }
  },
  "traits": { ... }
}
```

## å®ç°æ­¥éª¤
1. æ›´æ–° types.ts æ·»åŠ æ¥å£å®šä¹‰
2. æ›´æ–° TraitManager.ts å¤„ç† traitTypes
3. æ›´æ–°ä¸¤ä¸ª traits.json æ–‡ä»¶
4. è¿è¡Œç±»å‹æ£€æŸ¥éªŒè¯
