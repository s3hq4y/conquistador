# 实现单人模式玩家切换 + AI 回合触发

## 修改内容

### 1. 修改 TurnSystem.ts

- 修改 `endTurn()` 方法：单人模式下也切换玩家
- 添加 `triggerAITurn()` 方法：检测 AI 回合并执行
- 添加 `isAITurn` 属性：防止 AI 回合中重复触发

### 2. 逻辑流程

```
玩家点击结束回合 → endTurn()
    ↓
切换玩家 (nextPlayer())
    ↓
检查当前玩家是否是 AI
    ↓
是 AI → triggerAITurn() → 执行 AI 逻辑 → 自动 endTurn()
    ↓
否 AI → 等待玩家操作
```

### 3. AI 逻辑占位

```typescript
private async triggerAITurn(): Promise<void> {
  debug.ui('AI turn started');
  // TODO: AI 逻辑
  // - 获取 AI 所有单位
  // - 计算最佳行动
  // - 执行移动/攻击
  
  // 临时：直接结束回合
  setTimeout(() => {
    this.endTurn();
  }, 1000);
}
```